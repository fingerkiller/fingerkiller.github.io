<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<style>
h1,
h2,
h3,
h4,
h5,
h6,
p,
blockquote {
    margin: 0;
    padding: 0;
}
body {
    font-family: "Helvetica Neue", Helvetica, "Hiragino Sans GB", Arial, sans-serif;
    font-size: 13px;
    line-height: 18px;
    color: #737373;
    background-color: white;
    margin: 10px 13px 10px 13px;
}
table {
	margin: 10px 0 15px 0;
	border-collapse: collapse;
}
td,th {	
	border: 1px solid #ddd;
	padding: 3px 10px;
}
th {
	padding: 5px 10px;	
}

a {
    color: #0069d6;
}
a:hover {
    color: #0050a3;
    text-decoration: none;
}
a img {
    border: none;
}
p {
    margin-bottom: 9px;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    color: #404040;
    line-height: 36px;
}
h1 {
    margin-bottom: 18px;
    font-size: 30px;
}
h2 {
    font-size: 24px;
}
h3 {
    font-size: 18px;
}
h4 {
    font-size: 16px;
}
h5 {
    font-size: 14px;
}
h6 {
    font-size: 13px;
}
hr {
    margin: 0 0 19px;
    border: 0;
    border-bottom: 1px solid #ccc;
}
blockquote {
    padding: 13px 13px 21px 15px;
    margin-bottom: 18px;
    font-family:georgia,serif;
    font-style: italic;
}
blockquote:before {
    content:"\201C";
    font-size:40px;
    margin-left:-10px;
    font-family:georgia,serif;
    color:#eee;
}
blockquote p {
    font-size: 14px;
    font-weight: 300;
    line-height: 18px;
    margin-bottom: 0;
    font-style: italic;
}
code, pre {
    font-family: Monaco, Andale Mono, Courier New, monospace;
}
code {
    background-color: #fee9cc;
    color: rgba(0, 0, 0, 0.75);
    padding: 1px 3px;
    font-size: 12px;
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    border-radius: 3px;
}
pre {
    display: block;
    padding: 14px;
    margin: 0 0 18px;
    line-height: 16px;
    font-size: 11px;
    border: 1px solid #d9d9d9;
    white-space: pre-wrap;
    word-wrap: break-word;
}
pre code {
    background-color: #fff;
    color:#737373;
    font-size: 11px;
    padding: 0;
}
sup {
    font-size: 0.83em;
    vertical-align: super;
    line-height: 0;
}
* {
	-webkit-print-color-adjust: exact;
}
@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:10px auto;
    }
}
@media print {
	body,code,pre code,h1,h2,h3,h4,h5,h6 {
		color: black;
	}
	table, pre {
		page-break-inside: avoid;
	}
}
</style>
<title>---
layout: contentpage
title: 在项目里交叉使用Swift和OC
tags: [swift]
date: 2014</title>

</head>
<body>
<hr />

<p>layout: contentpage</p>

<p>title: 在项目里交叉使用Swift和OC</p>

<p>tags: [swift]</p>

<p>date: 2014-09-26 12:10:07</p>

<p>sourceType: 2---</p>

<p><span style="font-size:14px; line-height:26px;"><strong>在项目里交叉使用Swift和OC</strong><br></p>

<p><br></p>

<p>Swift与OC的兼容性使得你可以在项目里使用Swift&#43;OC的方式编写应用程序，称为混合&#43;匹配(mix and match)，用这种方式可以一边使用享受新语言的快速特性，一边无缝的接合你已有的OC代码(原文听起来好NB的样子，其实也就那么回事)，不管项目最初是用OC编写的还是新建的Swift项目，都可以在这个项目里用OC和Swift混合继续开发<br></p>

<p><img src="http://img.blog.csdn.net/20140627163829718?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVhbmdjaGVudGFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" align="middle" alt="" style="border:none; max-width:100%"><br></p>

<p><br></p>

<p><br></p>

<p><strong><span style="color:rgb(153,0,0)">Importing Objective-C into Swift</span></strong><br></p>

<p><br></p>

<p>在Swfit代码中添加OC文件的时候，需要依赖一个bridging header文件，Xcode会在你新建一个OC文件的时候自动帮你创建(项目是使用Swift语言创建的)，点击yes，Xocde就会在新建OC文件的同时帮我们新建一个<span style="color:rgb(255,0,0)">&nbsp;xxx-Bridging-Header.h&nbsp;</span>文件，xxx是你的项目名称(Product Module)，然后我们得编辑这个文件才能让Swfit代码调用OC代码<br></p>

<p><img src="http://img.blog.csdn.net/20140627163940656?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVhbmdjaGVudGFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" align="middle" alt="" style="border:none; max-width:100%"><br></p>

<p><br></p>

<p>在项目的<span style="color:rgb(255,0,0)">xxx-Bridging-Header.h</span>文件里，添加需要在Swift里调用的OC文件，然后就可以在Swfit代码中调用了<br></p>

<p><br></p>

<p>OBJECTIVE-C<br></p>

<p></span></p>

<div class="dp-highlighter bg_objc" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:936.53125px; overflow:auto; padding-top:1px; line-height:26px; margin:18px 0px!important">

<div class="bar" style="padding-left:45px">

<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)">

<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/huangchentao/article/details/35278663#" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px; text-indent:-2000px">view

 plain</a><a target="_blank" href="http://blog.csdn.net/huangchentao/article/details/35278663#" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px; text-indent:-2000px">copy</a><a target="_blank" href="https://code.csdn.net/snippets/408564" target="_blank" title="在CODE上查看代码片" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px"><img src="https://code.csdn.net/assets/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="border:none; max-width:100%; position:relative; top:1px; left:2px"></a><a target="_blank" href="https://code.csdn.net/snippets/408564/fork" target="_blank" title="派生到我的代码片" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px"><img src="https://code.csdn.net/assets/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="border:none; max-width:100%; position:relative; top:2px; left:2px"></a>

<div style="position:absolute; left:392px; top:1400px; width:18px; height:18px; z-index:99">

</div>

</div>

</div>

<ol start="1" class="dp-objc" style="padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin:0px 0px 1px 45px!important">

<li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">

<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="xcodepreprocessor" style="margin:0px; padding:0px; border:none; background-color:inherit">#import&nbsp;&quot;XYZCustomCell.h&quot;</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">

<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="xcodepreprocessor" style="margin:0px; padding:0px; border:none; background-color:inherit">#import&nbsp;&quot;XYZCustomView.h&quot;</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">

<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="xcodepreprocessor" style="margin:0px; padding:0px; border:none; background-color:inherit">#import&nbsp;&quot;XYZCustomViewController.h&quot;</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li></ol>

</div>


<p><br style="font-family:Arial; font-size:14px; line-height:26px"></p>

<p><span style="font-family:Arial; font-size:14px; line-height:26px">SWIFT</span><br style="font-family:Arial; font-size:14px; line-height:26px"></p>

<div class="dp-highlighter bg_objc" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:936.53125px; overflow:auto; padding-top:1px; line-height:26px; margin:18px 0px!important">

<div class="bar" style="padding-left:45px">

<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)">

<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/huangchentao/article/details/35278663#" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px; text-indent:-2000px">view

 plain</a><a target="_blank" href="http://blog.csdn.net/huangchentao/article/details/35278663#" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px; text-indent:-2000px">copy</a><a target="_blank" href="https://code.csdn.net/snippets/408564" target="_blank" title="在CODE上查看代码片" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px"><img src="https://code.csdn.net/assets/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="border:none; max-width:100%; position:relative; top:1px; left:2px"></a><a target="_blank" href="https://code.csdn.net/snippets/408564/fork" target="_blank" title="派生到我的代码片" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px"><img src="https://code.csdn.net/assets/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="border:none; max-width:100%; position:relative; top:2px; left:2px"></a>

<div style="position:absolute; left:392px; top:1578px; width:18px; height:18px; z-index:99">

</div>

</div>

</div>

<ol start="1" class="dp-objc" style="padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin:0px 0px 1px 45px!important">

<li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">

<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span style="margin:0px; padding:0px; border:none; background-color:inherit">let&nbsp;myCell&nbsp;=&nbsp;XYZCustomCell()&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">

<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">myCell<span class="xcodeconstants" style="margin:0px; padding:0px; border:none; background-color:inherit">.subtitle</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;=&nbsp;</span><span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">&quot;A&nbsp;custom&nbsp;cell&quot;</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li></ol>

</div>


<p><br style="font-family:Arial; font-size:14px; line-height:26px"></p>

<p><span style="font-family:Arial; font-size:14px; line-height:26px">在项目的 Build Settings 选项里，要确保Swift Compiler选项里有这个Bridging Header文件的设置，路径必须指向文件本身，而不是目录。</span><br style="font-family:Arial; font-size:14px; line-height:26px"></p>

<p><img src="http://img.blog.csdn.net/20140627164025671?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVhbmdjaGVudGFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:none; max-width:100%; font-family:Arial; font-size:14px; line-height:26px"><br style="font-family:Arial; font-size:14px; line-height:26px"></p>

<p><br style="font-family:Arial; font-size:14px; line-height:26px"></p>

<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">

<span style="font-family:'Microsoft YaHei'"><strong><span style="color:rgb(153,0,0)">Importing Swift into Objective-C</span></strong></span></p>


<p><span style="font-size:14px; line-height:26px; font-family:'Microsoft YaHei'">当在OC里调用Swift中的代码时，需要依赖一个xcode自动生成的头文件，这个自动生成的头文件定义了项目中所有的Swift文件，这个头文件的命名为 “<span style="color:rgb(255,0,0)">xxx-Swift.h</span>” ，xxx为项目的名称，此外就不需要再做任何事情了，你只需要在OC代码里导入这么一个文件，就可以跟没事一样拿任意一个Swift中的代码用了<br></p>

<p></span></p>

<div class="dp-highlighter bg_objc" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:936.53125px; overflow:auto; padding-top:1px; line-height:26px; margin:18px 0px!important">

<div class="bar" style="padding-left:45px">

<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)">

<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/huangchentao/article/details/35278663#" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px; text-indent:-2000px">view

 plain</a><a target="_blank" href="http://blog.csdn.net/huangchentao/article/details/35278663#" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px; text-indent:-2000px">copy</a><a target="_blank" href="https://code.csdn.net/snippets/408564" target="_blank" title="在CODE上查看代码片" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px"><img src="https://code.csdn.net/assets/CODE_ico.png" width="12" height="12" alt="在CODE上查看代码片" style="border:none; max-width:100%; position:relative; top:1px; left:2px"></a><a target="_blank" href="https://code.csdn.net/snippets/408564/fork" target="_blank" title="派生到我的代码片" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px"><img src="https://code.csdn.net/assets/ico_fork.svg" width="12" height="12" alt="派生到我的代码片" style="border:none; max-width:100%; position:relative; top:2px; left:2px"></a>

<div style="position:absolute; left:392px; top:2305px; width:18px; height:18px; z-index:99">

</div>

</div>

</div>

<ol start="1" class="dp-objc" style="padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin:0px 0px 1px 45px!important">

<li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">

<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="xcodepreprocessor" style="margin:0px; padding:0px; border:none; background-color:inherit">#import&nbsp;“ProductModuleName-Swift.h”</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li></ol>

</div>


<p><br style="font-family:Arial; font-size:14px; line-height:26px"></p>

<p><span style="font-family:Arial; font-size:14px; line-height:26px">以上归纳为一个表</span></p>

<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">

<span style="font-family:'Microsoft YaHei'"></span></p>




<table border="1" width="800" cellspacing="1" cellpadding="1" style="color:rgb(0,0,0); font-family:Arial; font-size:14px; line-height:26px">

<tbody>

<tr>

<td>&nbsp;</td>

<td><span style="font-family:'Microsoft YaHei'; font-size:14px">调用Swift代码</span></td>

<td><span style="font-family:'Microsoft YaHei'; font-size:14px">调用OC代码</span></td>

</tr>

<tr>

<td><span style="font-family:'Microsoft YaHei'; font-size:14px">Swift代码</span></td>

<td><span style="font-family:'Microsoft YaHei'; font-size:14px">无需声明</span></td>

<td><span style="font-family:'Microsoft YaHei'; font-size:14px">#import &quot;ProductModuleName-Swift.h”</span></td>

</tr>

<tr>

<td><span style="font-family:'Microsoft YaHei'; font-size:14px">OC代码</span></td>

<td><span style="font-family:'Microsoft YaHei'; font-size:14px">依赖bridging header文件</span></td>

<td><span style="font-family:'Microsoft YaHei'; font-size:14px">#import &quot;Header.h”</span></td>

</tr>

</tbody>

</table>


<p><br style="font-family:Arial; font-size:14px; line-height:26px"></p>

<p><br style="font-family:Arial; font-size:14px; line-height:26px"></p>
</body>
</html>